window.onscroll=function(){scrollFunction()};function EffacerChargement(){document.getElementById("MSGChargement").style.display="none";document.getElementById("site").style.visibility="visible"}function initPagination(){document.onreadystatechange=function(){if(document.readyState==="complete"){var a=new purePajinate({containerSelector:".zonePagesCMD .items",itemSelector:".zonePagesCMD .items .pageCMD",navigationSelector:".zonePagesCMD .page_navigation",wrapAround:false,navLabelPrev:"<",navLabelNext:">",pageLinksToDisplay:20,itemsPerPage:1,startPage:0})}}}function AfficheRechercheCMD(a){isRECOmmandes=a;if(a){document.getElementById("mySidenav").style.width="250px";document.getElementById("main").style.marginRight="250px";document.getElementById("Entete").style.marginRight="250px";var c=document.getElementById("zoneRechercheCMD");c.style.display="";var b=document.getElementById("zoneListePageCMD");b.style.display="none"}else{document.getElementById("zoneRecherche").value="";RechercheMulti(" ");document.getElementById("mySidenav").style.width="0";document.getElementById("main").style.marginRight="0";document.getElementById("Entete").style.marginRight="0";var c=document.getElementById("zoneRechercheCMD");c.style.display="none";var b=document.getElementById("zoneListePageCMD");b.style.display="block"}}window.onload=function(){InitCommandes();EffacerChargement()};function scrollFunction(){if(document.body.scrollTop>20||document.documentElement.scrollTop>20){document.getElementById("btnRemonter").style.display="block"}else{document.getElementById("btnRemonter").style.display="none"}}function topFunction(){document.body.scrollTop=0;document.documentElement.scrollTop=0}function VisuCMD(b){var a=document.getElementById(b);if(a.style.display=="none"){a.style.display="block";setCookie(b,"affiche",30)}else{a.style.display="none";setCookie(b,"cache",30)}MAJPage()}function MAJPage(){var a=document.getElementsByClassName("page_link");for(i=0;i<a.length;i++){console.log(" Page : "+(i+1));a[i].style.background=CouleurBoutonPage(i)}}function CouleurBoutonPage(j){var h=j+1;var c="var(--btnPageDebut)";var a="";var b,f,g;var d=document.getElementById("P-"+(h));var e=d.getElementsByClassName("Contenucommande");f=e.length;g=0;for(b=0;b<f;b++){if(e[b].style.display=="none"){g++}}if(g>0){c="var(--btnPageEntame)"}if(f==g){c="var(--btnPageFini)"}a="radial-gradient(circle at 0px -5px, white, "+c+")";return a}function InitCommandes(d){var d=(typeof d!=="undefined")?d:true;var a,c,b;a=document.getElementsByClassName("Contenucommande");for(c=0;c<a.length;c++){if(d){b="block";if(getCookie(a[c].id)=="cache"){b="none"}a[c].style.display=b}else{a[c].style.display="block"}}MAJPage()}function setCookie(a,b,e){var c=new Date();c.setTime(c.getTime()+(e*24*60*60*1000));var f="expires="+c.toUTCString();document.cookie=a+"="+b+";"+f+";path=/"}function getCookie(d){var f=d+"=";var b=document.cookie.split(";");for(var e=0;e<b.length;e++){var a=b[e];while(a.charAt(0)==" "){a=a.substring(1)}if(a.indexOf(f)==0){return a.substring(f.length,a.length)}}return""}function filterFunction(){var c,b;c=document.getElementById("zoneRecherche");b=c.value.toUpperCase();var a=c.value.toUpperCase().split(" ");RechercheMulti(b)}function RechercheMulti(f){var j=f.split(" ");var a,c,b,d;var h=[];var g=[];document.getElementById("zoneRechercheCMD").removeAttribute("mark");for(b=0;b<j.length;b++){a=document.getElementsByClassName("commande");for(c=0;c<a.length;c++){if(a[c].id.toUpperCase().indexOf(j[b])>-1){texteColoration=a[c].getElementsByTagName("button")[0];texteColoration.innerHTML=ColorRecherche(texteColoration.textContent,j[b]);h.push(a[c].id.toUpperCase())}else{a[c].getElementsByTagName("button")[0].removeAttribute("mark")}}a=document.getElementsByClassName("produit");for(c=0;c<a.length;c++){if(a[c].id.toUpperCase().indexOf(j[b])>-1){texteColoration=a[c].getElementsByTagName("h4")[0];texteColoration.innerHTML=ColorRecherche(texteColoration.textContent,j[b]);texteColoration=a[c].getElementsByTagName("h5")[0];texteColoration.innerHTML=ColorRecherche(texteColoration.textContent,j[b]);h.push("C-"+a[c].parentNode.id.toUpperCase())}}a=document.getElementsByClassName("planche");for(c=0;c<a.length;c++){if(a[c].id.toUpperCase().indexOf(j[b])>-1){texteColoration=a[c].getElementsByTagName("p")[0];texteColoration.innerHTML=ColorRecherche(texteColoration.textContent,j[b]);h.push("C-"+a[c].parentNode.parentNode.id.toUpperCase())}}if(b==0){g=h}else{g=intersect(g,h)}h=[]}d=document.getElementById("listeRechercheCMD").getElementsByTagName("li");for(c=0;c<d.length;c++){menu=d[c].getElementsByTagName("a")[0];if(g.indexOf("C-"+menu.innerHTML.trim().toUpperCase())>-1){d[c].style.display=""}else{d[c].style.display="none"}}a=document.getElementsByClassName("commande");for(c=0;c<a.length;c++){if(g.indexOf(a[c].id.toUpperCase())>-1){a[c].style.display=""}else{a[c].style.display="none"}}InitCommandes(f=="")}function ColorRecherche(c,b){if(b!=""){var a=new RegExp(b,"i");textedeRemplacement=c.substr(c.toUpperCase().indexOf(b),b.length);c=c.replace(a,"<mark>"+textedeRemplacement+"</mark>")}return c}function openNav(){AfficheRechercheCMD(true)}function closeNav(){AfficheRechercheCMD(false);InitCommandes()}function SelectionPhoto(a){if(a.classList.contains("planche")&&isRECOmmandes){a.classList.replace("planche","plancheSELECTIONNER");a.setAttribute("title","Planche en cours de recommande  "+a.getAttribute("id"))}else{a.classList.replace("plancheSELECTIONNER","planche");a.setAttribute("title",a.getAttribute("id"))}mesRecommandes()}function VoirPhotoSelection(b){var a=document.getElementsByClassName("planche");for(i=0;i<a.length;i++){if(a[i].style.display==="none"){a[i].style.display="inline-block"}else{a[i].style.display="none"}}}function mesRecommandes(){var b="";var a=document.getElementsByClassName("plancheSELECTIONNER");for(i=0;i<a.length;i++){b=b+"%"+a[i].getAttribute("id")}document.getElementById("lesRecommandes").value=b};